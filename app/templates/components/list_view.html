{% macro render_list_view(id, view) -%}
  <div class="list" id="{{ id }}">
    <header class="list__header">
      <h3>{{ view.title }}</h3>
      <p>{{ view.rows | length }} entries</p>
    </header>
    <div class="list__table">
      <table>
        <thead>
          <tr>
            {% for column in view.columns %}
            <th scope="col">{{ column.title }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in view.rows %}
          <tr>
            {% for column in view.columns %}
            {% set value = row.values.get(column.key) %}
            {% set link_url = row.links.get(column.key) if row.links else none %}
            <td>
              {% if column.column_type == 'currency' and value is not none %}
                {{ humanize_currency(value, short=true, decimals=1) }}
              {% else %}
                {% set display = value if value is not none and value != '' else 'â€”' %}
                {% if link_url %}
                  <a href="{{ link_url }}">{{ display }}</a>
                {% else %}
                  {{ display }}
                {% endif %}
              {% endif %}
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
          {% if view.rows | length == 0 %}
          <tr>
            <td colspan="{{ view.columns | length }}">{{ view.empty_message }}</td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>
{%- endmacro %}
