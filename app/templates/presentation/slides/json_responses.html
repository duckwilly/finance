<article class="slide" data-slide-fragment>
  <header class="slide__header">
    <h2 class="slide__title">LLM output naar Chart.js</h2>
  </header>
  <div class="slide__content">
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
      <div>
        <h3 class="slide__section-title">LLM geeft JSON response</h3>
        <p>De LLM retourneert een gestructureerde JSON response:</p>
        <pre class="slide__code"><code class="language-json">{
  "reply": "Uitgaven per categorie",
  "visualizations": [{
    "chart_type": "pie",
    "x_axis": "category",
    "y_axis": "total"
  }]
}</code></pre>
        <ul class="slide__bullets">
          <li><strong>JSON validatie:</strong> Pydantic valideert de response</li>
          <li><strong>Cleanup:</strong> Code fences en extra tekst worden verwijderd</li>
          <li><strong>Structured:</strong> Altijd hetzelfde format, betrouwbaar te parsen</li>
        </ul>
      </div>

      <div>
        <h3 class="slide__section-title">Omzetten naar Chart.js</h3>
        <p>De JSON wordt omgezet naar een Chart.js configuratie:</p>
        <pre class="slide__code"><code class="language-python"># Data ophalen via tools
data = expenses_by_category(days=30)

# Chart.js config genereren
chart_config = {
  "type": "pie",
  "data": {
    "labels": ["Food", "Transport", ...],
    "datasets": [{"data": [100, 50, ...]}]
  }
}</code></pre>
        <ul class="slide__bullets">
          <li><strong>Data fetching:</strong> Python tools halen echte data op</li>
          <li><strong>Config generatie:</strong> ChartGenerator maakt Chart.js config</li>
          <li><strong>Frontend:</strong> Chart.js rendert direct in de browser</li>
        </ul>
      </div>
    </div>
  </div>
</article>
